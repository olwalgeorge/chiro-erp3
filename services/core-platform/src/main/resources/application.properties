# Core Platform Service Configuration
quarkus.application.name=core-platform-service
quarkus.http.port=8080

# Database Configuration
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=${DB_USERNAME:core_user}
quarkus.datasource.password=${DB_PASSWORD:core_pass}
quarkus.datasource.reactive.url=${DB_URL:postgresql://localhost:5432/core_db}

# Hibernate Configuration
quarkus.hibernate-orm.database.generation=update
quarkus.hibernate-orm.log.sql=false

# Redis Configuration
quarkus.redis.hosts=${REDIS_URL:redis://localhost:6379}

# Kafka Configuration - Core platform acts as event hub
kafka.bootstrap.servers=${KAFKA_BOOTSTRAP_SERVERS:localhost:9092}
mp.messaging.incoming.all-events.connector=smallrye-kafka
mp.messaging.incoming.all-events.topic=platform.events
mp.messaging.incoming.all-events.key.deserializer=org.apache.kafka.common.serialization.StringDeserializer
mp.messaging.incoming.all-events.value.deserializer=org.apache.kafka.common.serialization.StringDeserializer

mp.messaging.outgoing.platform-notifications.connector=smallrye-kafka
mp.messaging.outgoing.platform-notifications.topic=platform.notifications
mp.messaging.outgoing.platform-notifications.key.serializer=org.apache.kafka.common.serialization.StringSerializer
mp.messaging.outgoing.platform-notifications.value.serializer=org.apache.kafka.common.serialization.StringSerializer

# Security Configuration - Central auth service
quarkus.oidc.auth-server-url=${OIDC_SERVER_URL:http://localhost:8080/realms/chiro-erp}
quarkus.oidc.client-id=core-platform-service
quarkus.oidc.credentials.secret=${OIDC_CLIENT_SECRET:core-secret}

# Keycloak Admin Configuration
quarkus.keycloak.admin-client.server-url=${KEYCLOAK_SERVER_URL:http://localhost:8080}
quarkus.keycloak.admin-client.realm=master
quarkus.keycloak.admin-client.client-id=admin-cli
quarkus.keycloak.admin-client.username=${KEYCLOAK_ADMIN_USER:admin}
quarkus.keycloak.admin-client.password=${KEYCLOAK_ADMIN_PASSWORD:admin}

# Email Configuration
quarkus.mailer.from=${MAIL_FROM:noreply@chiro-erp.com}
quarkus.mailer.host=${MAIL_HOST:localhost}
quarkus.mailer.port=${MAIL_PORT:587}
quarkus.mailer.start-tls=${MAIL_TLS:REQUIRED}
quarkus.mailer.username=${MAIL_USERNAME:}
quarkus.mailer.password=${MAIL_PASSWORD:}

# Metrics & Monitoring
quarkus.micrometer.enabled=true
quarkus.micrometer.registry-enabled-default=true
quarkus.micrometer.export.prometheus.enabled=true

# Health Check Configuration
quarkus.smallrye-health.ui.enable=true

# OpenTracing Configuration
quarkus.jaeger.service-name=core-platform-service
quarkus.jaeger.sampler-type=const
quarkus.jaeger.sampler-param=1
quarkus.jaeger.endpoint=${JAEGER_ENDPOINT:http://localhost:14268/api/traces}

# API Documentation
quarkus.swagger-ui.always-include=true
quarkus.swagger-ui.path=/core/swagger-ui

# Logging Configuration
quarkus.log.level=INFO
quarkus.log.category."com.chiro.erp.coreplatform".level=DEBUG
