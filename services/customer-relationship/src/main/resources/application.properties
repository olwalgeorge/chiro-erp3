# Customer Relationship Service Configuration
quarkus.application.name=customer-relationship-service
quarkus.http.port=8083

# Database Configuration - Production
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=${DB_USERNAME:crm_user}
quarkus.datasource.password=${DB_PASSWORD:crm_pass}
quarkus.datasource.reactive.url=${DB_URL:postgresql://localhost:5432/crm_db}

# Hibernate Reactive Configuration
quarkus.hibernate-orm.database.generation=update
quarkus.hibernate-orm.log.sql=true
quarkus.hibernate-orm.packages=com.chiro.erp.customerrelationship

# Development Configuration - disable database completely
%dev.quarkus.hibernate-orm.active=false
%dev.quarkus.datasource.active=false

# Health Check Configuration
quarkus.smallrye-health.ui.always-include=true

# Test Configuration - disable database for tests
%test.quarkus.hibernate-orm.active=false
%test.quarkus.datasource.active=false

# Redis Configuration
quarkus.redis.hosts=${REDIS_URL:redis://localhost:6379}

# Kafka Configuration
kafka.bootstrap.servers=${KAFKA_BOOTSTRAP_SERVERS:localhost:9092}
mp.messaging.incoming.customer-events.connector=smallrye-kafka
mp.messaging.incoming.customer-events.topic=crm.customers
mp.messaging.incoming.customer-events.key.deserializer=org.apache.kafka.common.serialization.StringDeserializer
mp.messaging.incoming.customer-events.value.deserializer=org.apache.kafka.common.serialization.StringDeserializer

mp.messaging.outgoing.crm-analytics.connector=smallrye-kafka
mp.messaging.outgoing.crm-analytics.topic=crm.analytics
mp.messaging.outgoing.crm-analytics.key.serializer=org.apache.kafka.common.serialization.StringSerializer
mp.messaging.outgoing.crm-analytics.value.serializer=org.apache.kafka.common.serialization.StringSerializer

# S3 Configuration for customer documents
quarkus.s3.endpoint-override=${S3_ENDPOINT:http://localhost:9000}
quarkus.s3.aws.region=${AWS_REGION:us-east-1}
quarkus.s3.aws.credentials.type=static
quarkus.s3.aws.credentials.static-provider.access-key-id=${AWS_ACCESS_KEY:minioadmin}
quarkus.s3.aws.credentials.static-provider.secret-access-key=${AWS_SECRET_KEY:minioadmin}

# Email Configuration
quarkus.mailer.from=${MAIL_FROM:crm@chiro-erp.com}
quarkus.mailer.host=${MAIL_HOST:localhost}
quarkus.mailer.port=${MAIL_PORT:587}

# Security Configuration
quarkus.oidc.auth-server-url=${OIDC_SERVER_URL:http://localhost:8080/realms/chiro-erp}
quarkus.oidc.client-id=crm-service
quarkus.oidc.credentials.secret=${OIDC_CLIENT_SECRET:crm-secret}

# API Documentation
quarkus.swagger-ui.always-include=true
quarkus.swagger-ui.path=/crm/swagger-ui

# Health Check Configuration
quarkus.smallrye-health.ui.enable=true

# Logging Configuration
quarkus.log.level=INFO
quarkus.log.category."com.chiro.erp.customerrelationship".level=DEBUG
