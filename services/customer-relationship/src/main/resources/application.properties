# CustomerRelationship Service Configuration
quarkus.application.name=customer-relationship-service
quarkus.http.port=8083
# Database Configuration - Single database with schema separation
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=${DB_USERNAME:customerrelationship_user}
quarkus.datasource.password=${DB_PASSWORD:customerrelationship_pass}
quarkus.datasource.reactive.url=${DB_URL:postgresql://localhost:5432/chiro_erp?currentSchema=customerrelationship_schema}
# Hibernate Reactive Configuration
quarkus.hibernate-orm.database.generation=update
quarkus.hibernate-orm.log.sql=true
quarkus.hibernate-orm.database.default-schema=customerrelationship_schema
quarkus.hibernate-orm.packages=com.chiro.erp.customerrelationship
# Development Configuration - disable database completely
%dev.quarkus.hibernate-orm.active=false
%dev.quarkus.datasource.active=false
# Health Check Configuration
quarkus.smallrye-health.ui.always-include=true
# Test Configuration - disable database for tests
%test.quarkus.hibernate-orm.active=false
%test.quarkus.datasource.active=false
# Redis Configuration
quarkus.redis.hosts=${REDIS_URL:redis://localhost:6379}
# Kafka Configuration
kafka.bootstrap.servers=${KAFKA_BOOTSTRAP_SERVERS:localhost:9092}
# Kafka Reactive Messaging Channels - Domain Events
# Customer Events - This service primarily publishes customer events
mp.messaging.outgoing.crm-customer-events.connector=smallrye-kafka
mp.messaging.outgoing.crm-customer-events.topic=crm.customer.events
mp.messaging.outgoing.crm-customer-events.value.serializer=org.apache.kafka.common.serialization.StringSerializer
# Placeholder channels for other event types (if this service needs to publish them)
# Only configure the channels you actually use in your service
mp.messaging.outgoing.commerce-order-events.connector=smallrye-kafka
mp.messaging.outgoing.commerce-order-events.topic=commerce.order.events
mp.messaging.outgoing.commerce-order-events.value.serializer=org.apache.kafka.common.serialization.StringSerializer
mp.messaging.outgoing.finance-invoice-events.connector=smallrye-kafka
mp.messaging.outgoing.finance-invoice-events.topic=finance.invoice.events
mp.messaging.outgoing.finance-invoice-events.value.serializer=org.apache.kafka.common.serialization.StringSerializer
mp.messaging.outgoing.supply-inventory-events.connector=smallrye-kafka
mp.messaging.outgoing.supply-inventory-events.topic=supply.inventory.events
mp.messaging.outgoing.supply-inventory-events.value.serializer=org.apache.kafka.common.serialization.StringSerializer
mp.messaging.outgoing.operations-service-order-events.connector=smallrye-kafka
mp.messaging.outgoing.operations-service-order-events.topic=operations.service-order.events
mp.messaging.outgoing.operations-service-order-events.value.serializer=org.apache.kafka.common.serialization.StringSerializer
mp.messaging.outgoing.platform-user-events.connector=smallrye-kafka
mp.messaging.outgoing.platform-user-events.topic=platform.user.events
mp.messaging.outgoing.platform-user-events.value.serializer=org.apache.kafka.common.serialization.StringSerializer
mp.messaging.outgoing.platform-internal-events.connector=smallrye-kafka
mp.messaging.outgoing.platform-internal-events.topic=platform.internal.events
mp.messaging.outgoing.platform-internal-events.value.serializer=org.apache.kafka.common.serialization.StringSerializer
# Incoming channels - Subscribe to events from other bounded contexts
mp.messaging.incoming.order-events-in.connector=smallrye-kafka
mp.messaging.incoming.order-events-in.topic=commerce.order.events
mp.messaging.incoming.order-events-in.value.deserializer=org.apache.kafka.common.serialization.StringDeserializer
mp.messaging.incoming.order-events-in.group.id=customer-relationship-order-consumer
mp.messaging.incoming.invoice-events-in.connector=smallrye-kafka
mp.messaging.incoming.invoice-events-in.topic=finance.invoice.events
mp.messaging.incoming.invoice-events-in.value.deserializer=org.apache.kafka.common.serialization.StringDeserializer
mp.messaging.incoming.invoice-events-in.group.id=customer-relationship-invoice-consumer
# Security Configuration
quarkus.oidc.auth-server-url=${OIDC_SERVER_URL:http://localhost:8080/realms/chiro-erp}
quarkus.oidc.client-id=customer-relationship-service
quarkus.oidc.credentials.secret=${OIDC_CLIENT_SECRET:customer-relationship-secret}
# API Documentation
quarkus.swagger-ui.always-include=true
quarkus.swagger-ui.path=/customerrelationship/swagger-ui
